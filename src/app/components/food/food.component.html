<button class="btn btn-link mt-3" (click)="helpOverlay()">Need Help?</button>
<div class="wrapper">
  <div class="container">
<div class="food-selection">
  <div>
    <h2>Rank Goal</h2>
    <div class="radiobuttongroup">
      <label for="star4" class="checkbox">
          <input id="star4" type="radio" name="starRank" [value]="4" [(ngModel)]="starRank" (change)="calculateRequirements()">
          <span></span>
          <p class="label">4 Star</p>
      </label>
  </div>
  <div class="radiobuttongroup">
    <label for="star5" class="checkbox">
        <input id="star5" type="radio" name="starRank" [value]="5" [(ngModel)]="starRank" (change)="calculateRequirements()">
        <span></span>
        <p class="label">5 Star</p>
    </label>
</div>
<div class="radiobuttongroup">
  <label for="star6" class="checkbox">
      <input id="star6" type="radio" name="starRank" [value]="6" [(ngModel)]="starRank" (change)="calculateRequirements()">
      <span></span>
      <p class="label">6 Star</p>
  </label>
</div>
  </div>
</div>

<div class="food-selection">
  <div class="result-header"><h2>Food Requirements</h2>
    <div class="result-card">
      <label>Rank</label>
      <label>Available</label>
      <label>Required</label>
    </div>
    <div class="result-card">
      <label>5 Star </label>
      <input type="text" [(ngModel)]="availableFood['five']" (keyup)="calculateRequirements()">
      <label>{{ reqStars['five'] }}</label>
    </div>
    <div class="result-card">
      <label>4 Star </label>
      <input type="text" [(ngModel)]="availableFood['four']" (keyup)="calculateRequirements()">
      <label>{{ reqStars['four'] }}</label>
    </div>
    <div class="result-card">
      <label>3 Star </label>
      <input type="text" [(ngModel)]="availableFood['three']" (keyup)="calculateRequirements()">
      <label>{{ reqStars['three'] }}</label>
    </div>
    <div class="result-card">
      <label>2 Star </label>
      <input type="text" [(ngModel)]="availableFood['two']" (keyup)="calculateRequirements()">
      <label>{{ reqStars['two'] }}</label>
    </div>
    <div class="result-card">
      <label>1 Star </label>
      <input type="text" [(ngModel)]="availableFood['one']" (keyup)="calculateRequirements()">
      <label>{{ reqStars['one'] }}</label>
    </div>
  </div>
<hr>
<div class="result-header"><h2>Extra Calculator</h2></div>
<div class="food-selection">
  <mat-form-field>
    <mat-label>Select a Difficulty</mat-label>
    <mat-select [(ngModel)]="selectedDifficultyVisual" (selectionChange)="calculateFarmingCosts()">
      <mat-option *ngFor="let i of campaignDifficulties" value="{{i}}">
        {{ i }}
      </mat-option>
    </mat-select>
  </mat-form-field>


  <mat-form-field>
      <mat-label>Select a Chapter</mat-label>
    <mat-select [(ngModel)]="selectedChapter" (selectionChange)="calculateFarmingCosts()">
      <mat-option *ngFor="let i of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]" value="{{i}}">
        {{ i }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Select a Stage</mat-label>
    <mat-select [(ngModel)]="selectedStage" (selectionChange)="calculateFarmingCosts()">
      <mat-option *ngFor="let i of [1, 2, 3, 4, 5, 6, 7]" value="{{i}}">
        {{ i }}
      </mat-option>
    </mat-select>
  </mat-form-field>
    </div>
    <div class="radiobuttongroup2">
  <label>Double XP</label>
  <input class="regular-checkbox" type="checkbox" [(ngModel)]="doubleXP" ng-true-value="true" ng-false-value="false" (change)="calculateFarmingCosts()">
    </div>
    <div class="radiobuttongroup2">
  <label>Raid Pass</label>
  <input class="regular-checkbox" type="checkbox" [(ngModel)]="raidPass" ng-true-value="true" ng-false-value="false" (change)="calculateFarmingCosts()">
    </div>
    <div class="radiobuttongroup2">
  <label>Top off in Sparring Pit</label>
  <input class="regular-checkbox" type="checkbox" [(ngModel)]="topOffChamps" ng-true-value="true" ng-false-value="false" (change)="calculateFarmingCosts()">
</div>
  <div class="result-card">
    <label> Average Farming Time</label>
    <input type="text" [(ngModel)]="averageFarmingTime" (keyup)="calculateFarmingCosts()"> seconds
  </div>
    <hr>
<div class="food-selection">
  <div class="result-card">
    <label>Silver Gained (without selling artifacts)</label>
    <label>{{ silverGain | number }}</label>
  </div>
  <div class="result-card">
    <label>Energy Required</label>
    <label>{{ requiredEnergy | number }}</label>
  </div>
  <div class="result-card">
    <label>Farming Runs Required</label>
    <label>{{ requiredFarmingRuns | number }}</label>
  </div>
  <div class="result-card">
    <label>Farming Time Required</label>
    <label>{{ requiredFarmingTime }} hours</label>
  </div>
  <div class="result-card">
    <label>Sparring Pit Time Required</label>
    <label>{{ requiredSparringPitTime }} hours</label>
  </div>
</div>
<hr>

<div class="result-header"><h2>Experience Requirements</h2>
  <div class="result-card">
    <label>Total EXP</label>
    <label>{{ expReq['total'] | number }}</label>
    <label>100%</label>

  </div>
  <div class="result-card">
      <label>Spent on 5 Star</label>
      <label>{{ expReq['five'] | number }}</label>
      <label>{{ expReqPerc['five'] }}%</label>

  </div>
  <div class="result-card">
      <label>Spent on 4 Star</label>
      <label>{{ expReq['four'] | number }}</label>
      <label>{{ expReqPerc['four'] }}%</label>

  </div>
  <div class="result-card">
      <label>Spent on 3 Star</label>
      <label>{{ expReq['three'] | number }}</label>
      <label>{{ expReqPerc['three'] }}%</label>

  </div>
  <div class="result-card">
      <label>Spent on 2 Star</label>
      <label>{{ expReq['two'] | number }}</label>
      <label>{{ expReqPerc['two'] }}%</label>
  </div>
  <div class="result-card">
      <label>Spent on 1 Star</label>
      <label>{{ expReq['one'] | number }}</label>
      <label>{{ expReqPerc['one'] }}%</label>
  </div>
</div>
</div>


<div class="overlay" *ngIf="helpOverlayIsActive">
  <div class="help">
    <div class="btn btn-outline-primary mb-5" (click)="helpOverlay()">Close</div>
    <h4>Food Requirements</h4>
    <p><span class="text-primary">Rank Goal</span> shows what you are trying to work towards.</p>
    <p>If you already have some food ready you can insert these in the fields below <span class="text-primary">Available</span> respective to their Rank.</p>
    <p>The calculations assume that all food is at level 1 of their respective rank.</p>
    <h6>Extra Input</h6>
    <p>Some extra information is displayed which allows you to find out how much energy or runs you will need to do.</p>
    <p>The checkboxes will adjust the multiplier that is applied to the xp earned per run.</p>
    <p>If you choose to top off your champs in the sparring pit it will mean it won't 'waste' xp on this champ but instead put it in a fully maxed out sparring pit.</p>
    <p>This required sparring pit time is based on the usage of one sparring pit</p> 
    </div>
  </div>
</div>
</div>